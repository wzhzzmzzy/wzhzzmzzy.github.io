<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
<title>
    拭微
</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
<meta http-equiv="x-dns-prefetch-control" content="on">
<link rel="dns-prefetch" href="https://wzhzzmzzy.github.io">
<link rel="dns-prefetch" href="https://cdn.bootcss.com">
<link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
<meta name="author" content="Amber">
<meta name="description" content="一直尝试变得更有趣的阿宅">
<meta name="keywords" content="">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic@latest/assets/media/css/style.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic@latest/cdn/main.css" />
<!--<link rel="stylesheet" href="https://wzhzzmzzy.github.io/media/css/style.min.css" />
<link rel="stylesheet" href="https://wzhzzmzzy.github.io/styles/main.css" />-->
<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.0/dist/APlayer.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.0/dist/APlayer.min.css">
    
        <script type="text/javascript" src="https://apps.bdimg.com/libs/jquery/1.7.1/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic@latest/assets/media/script/tocbot.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic@latest/assets/media/script/script.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic@latest/assets/media/script/icon.min.js"></script>
        <!--<script src="https://wzhzzmzzy.github.io/media/script/tocbot.min.js"></script>
        <script src="https://wzhzzmzzy.github.io/media/script/script.min.js"></script>
        <script src="https://wzhzzmzzy.github.io/media/script/icon.min.js"></script>-->
        <script src="https://cdn.bootcss.com/highlight.js/9.13.1/highlight.min.js"></script>
        <link href="https://cdn.bootcss.com/highlight.js/9.13.1/styles/atelier-estuary-dark.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.css">
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.js"></script>
        
            <script>
                (function() {
                    var bp = document.createElement('script');
                    var curProtocol = window.location.protocol.split(':')[0];
                    if (curProtocol === 'https') {
                        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
                    } else {
                        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
                    }
                    var s = document.getElementsByTagName("script")[0];
                    s.parentNode.insertBefore(bp, s);
                })();
            </script>
            
                
</head>

<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo">
                <a href="https://wzhzzmzzy.github.io">
                    拭微
                </a>
            </div>

            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/">
                        首页
                    </a>
                    
                    <a class="menu-item" href="/archives">
                        归档
                    </a>
                    
                    <a class="menu-item" href="/tags">
                        标签
                    </a>
                    
                    <a class="menu-item" href="/post/about">
                        关于
                    </a>
                    
                        <input id="switch_default" type="checkbox" class="switch_default">
                        <label for="switch_default" class="toggleBtn"></label>
            </div>
            <form id="gridea-search-form" data-update="1579927857513" action="/search/index.html">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" autofocus="true" placeholder="Search...">
            </form>
        </div>
    </nav>

    
        <nav class="navbar-mobile" id="nav-mobile">
            <div class="container">
                <div class="navbar-header">
                    <div>
                        <a href="https://wzhzzmzzy.github.io">
                            拭微
                        </a>
                        <!--en-->
                        <a id="mobile-toggle-theme-en" class="a en">&nbsp;Dark</a>
                        <!--zh-->
                        <a id="mobile-toggle-theme-zh" class="a zh">&nbsp;\u6697\u9ED1</a>
                    </div>
                    <form id="gridea-search-form" data-update="1579927857513" action="/search/index.html">
                        <input class="search-input" autocomplete="off" spellcheck="false" name="q" autofocus="true" placeholder="Search...">
                    </form>
                    <!--en-->
                    <div class="menu-toggle" id="menu-toggle-en" onclick="mobileBtn()">&#9776; Menu</div>
                    <!--zh-->
                    <div class="menu-toggle" id="menu-toggle-zh" onclick="mobileBtn()">&#9776; &#x83DC;&#x5355;</div>

                </div>
                <div class="menu" id="mobile-menu">
                    
                        <a class="menu-item" href="/">
                            首页
                        </a>
                        
                        <a class="menu-item" href="/archives">
                            归档
                        </a>
                        
                        <a class="menu-item" href="/tags">
                            标签
                        </a>
                        
                        <a class="menu-item" href="/post/about">
                            关于
                        </a>
                        
                </div>
            </div>
        </nav>
</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementById("menu-toggle-en");
        var toggleMenu_zh = document.getElementById("menu-toggle-zh");

        var mobileMenu = document.getElementById("mobile-menu");
        if (toggleMenu.display != "none") {
            if (toggleMenu.classList.contains("active")) {
                toggleMenu.classList.remove("active")
                mobileMenu.classList.remove("active")
            } else {
                toggleMenu.classList.add("active")
                mobileMenu.classList.add("active")
            }
        } else if (toggleMenu_zh.display != "none") {
            if (toggleMenu_zh.classList.contains("active")) {
                toggleMenu_zh.classList.remove("active")
                mobileMenu.classList.remove("active")
            } else {
                toggleMenu_zh.classList.add("active")
                mobileMenu.classList.add("active")
            }
        }

    }
</script>
            <div class="main">
                <div class="container">
                    <article class="post-wrap">
                        <header class="post-header">
                            <h1 class="post-title">
                                SQL 语法详解
                            </h1>
                            <!--en-->
                            <div class="post-meta en">
                                Author:
                                <a itemprop="author" rel="author" href="/">
                                    拭微
                                </a>
                                <span class="post-time">
                                Date: <a href="#">2018-03-07</a>
                            </span>
                                <span class="post-readtime">Reading Time:<a href="#">19.3 mins</a></span>
                                <span class="post-words">words:<a href="#">4889</a></span>
                                
                                    <span class="post-category">
                                Category:
                                
                                <a href="https://wzhzzmzzy.github.io/tag/8mZlgr9QJt">SQL</a>
                                
                            </span>
                                    
                            </div>
                            <!--zh-->
                            <div class="post-meta zh">
                                &#x4F5C;&#x8005;:
                                <a itemprop="author" rel="author" href="/">
                                    拭微
                                </a>
                                <span class="post-time">&#x65E5;&#x671F;: <a href="#">2018-03-07</a></span>
                                <span class="post-readtime">&#x9605;&#x8BFB;&#x65F6;&#x95F4;:<a href="#">19.3 &#x5206;&#x949F;</a></span>
                                <span class="post-words">&#x5B57;&#x6570;:<a href="#">4889</a></span>
                                
                                    <span class="post-category">&#x5206;&#x7C7B;:
                                
                                <a href="https://wzhzzmzzy.github.io/tag/8mZlgr9QJt">SQL</a>
                                
                            </span>
                                    
                            </div>
                        </header>
                        <div class="post-content">
                            <h2 id="sql-入门">SQL 入门</h2>
<blockquote>
<p>入门书：《SQL 必知必会（第 4 版）》</p>
</blockquote>
<h3 id="什么是-sql">什么是 SQL</h3>
<p>SQL 是用于操作数据库的语言。为了简化读写，SQL中只有很少几个关键词。</p>
<p>数据库中存储数据的主体是表。表由列组成，每一列有其数据类型和唯一的列名。表中的数据按行存储，每一行就是一个记录。主键是每个记录的唯一标识，是一个特殊的列。</p>
<h3 id="检索数据">检索数据</h3>
<h4 id="select">SELECT</h4>
<pre><code class="language-sql">SELECT prod_name FROM Products;
</code></pre>
<p>从表<code>Products</code>检索列<code>prod_name</code>。</p>
<p>注意 SQL 不区分大小写，<code>SELECT</code>和<code>select</code>是一样的。</p>
<pre><code class="language-sql">SELECT prod_id, prod_name, prod_price FROM Products;
</code></pre>
<p>通过逗号隔开可以区分多个类名。</p>
<pre><code class="language-sql">SELECT * FROM Products;
</code></pre>
<p>这样可以检索所有的列。<code>*</code>称为通配符。</p>
<p>SELECT 会返回所有匹配的行，这就导致可能会有选择出的数据是重复的。<code>DISTINCT</code>可以确保不重复。</p>
<pre><code class="language-sql">SELECT DISTINCT vend_id FROM Products;
</code></pre>
<p>如果需要限制返回的行数，是可以做到的，但是在不同的　DBMS 中，对此的设计是不同的。</p>
<pre><code class="language-sql">-- 检索前五行数据
-- SQL Server / Access
SELECT TOP 5 prod_name FROM Products;
-- Oracle
SELECT prod_name FROM Products WHERE ROWNUM &lt;= 5;
-- MySQL / MariaDB / PostgreSQL / SQLite
SELECT prod_name FROM Products LIMIT 5;
-- 在 MySQL 中返回后五行数据
SELECT prod_name FROM Products LIMIT 5 OFFSET 5;
</code></pre>
<h4 id="排序检索">排序检索</h4>
<p><code>ORDER BY</code>子句可以对输出进行排序。</p>
<pre><code class="language-sql">-- 字典序
SELECT prod_name FROM Products ORDER BY prod_name;
</code></pre>
<p>注意，<code>ORDER BY</code>子句需要是<code>SELECT</code>语句中的最后一条子句。</p>
<p>完全可以使用不选择的列去排序。</p>
<p>可以按多个列进行排序，只需要在<code>ORDER BY</code>子句中指明列名，并使用逗号隔开即可。排序的优先级和子句中的顺序一样。</p>
<p>除了使用列名排序，还可以使用列位置来排序。</p>
<pre><code class="language-sql">SELECT prod_id, prod_price, prod_name FROM Products ORDER BY 2, 3;
</code></pre>
<p>排序默认按照升序排序，也可以使用<code>ORDER BY</code>子句进行降序排序，这需要指定<code>DESC</code>关键字。</p>
<pre><code class="language-sql">SELECT prod_id, prod_price, prod_name FROM Products ORDER BY prod_price DESC;
</code></pre>
<h4 id="过滤数据">过滤数据</h4>
<p>使用<code>WHERE</code>子句可以指定搜索条件。</p>
<pre><code class="language-sql">SELECT prod_name, prod_price FROM Products WHERE prod_price = 3.49;
</code></pre>
<p><code>WHERE</code>子句有多个操作符。</p>
<table>
<thead>
<tr>
<th style="text-align:center">操作符</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">=</td>
<td style="text-align:left">等于</td>
</tr>
<tr>
<td style="text-align:center">&lt;&gt;, !=</td>
<td style="text-align:left">不等于</td>
</tr>
<tr>
<td style="text-align:center">&lt;, &lt;=</td>
<td style="text-align:left">小于（等于）</td>
</tr>
<tr>
<td style="text-align:center">!&lt;</td>
<td style="text-align:left">不小于</td>
</tr>
<tr>
<td style="text-align:center">&gt;, &gt;=</td>
<td style="text-align:left">大于（等于）</td>
</tr>
<tr>
<td style="text-align:center">!&gt;</td>
<td style="text-align:left">不大于</td>
</tr>
<tr>
<td style="text-align:center">BETWEEN</td>
<td style="text-align:left">在指定的两个值之间</td>
</tr>
<tr>
<td style="text-align:center">IS NULL</td>
<td style="text-align:left">为空值</td>
</tr>
</tbody>
</table>
<p>举一些例子：</p>
<pre><code class="language-sql">-- !=
SELECT vend_id FROM Products
WHERE vend_id != 'DLL01';
-- BETWEEN
SELECT prod_name, prod_price FROM Products
 WHERE prod_price BETWEEN 5 AND 10;
</code></pre>
<p>对于空值，需要使用<code>IS NULL</code>来检查。</p>
<p><code>WHERE</code>中的条件可以组合，这需要使用<code>AND</code>和<code>OR</code>关键字。</p>
<pre><code class="language-sql">-- AND
SELECT prod_id, prod_price, prod_name FROM Products
WHERE vend_id = 'DLL01' AND prod_price &lt;= 4;
-- OR
SELECT prod_name, prod_price FROM Products
WHERE vend_id = 'DLL01' OR vend_id = ‘BRS01’;
</code></pre>
<p>当同时使用<code>OR</code>和<code>AND</code>时，会先求解<code>AND</code>，然后求解<code>OR</code>。为此可以用括号来指定优先级。</p>
<p>有时，可以使用<code>IN</code>来表示筛选条件。</p>
<pre><code class="language-sql">SELECT prod_name, prod_price FROM Products
WHERE vend_id IN ( 'DLL01', 'BRS01' )
</code></pre>
<p>这样写比使用<code>OR</code>更为清晰。</p>
<p><code>NOT</code>用于否定其后的条件。</p>
<h4 id="通配符">通配符</h4>
<p>通配符本身实际上是 SQL 的<code>WHERE</code> 子句中有特殊含义的字符，SQL 支持几种通配符，为了使用通配符搜索子句，需要使用<code>LIKE</code>操作符。<code>LIKE</code>指示 DBMS，后跟的搜索模式利用通配符匹配而不是简单的相等匹配进行比较。</p>
<p>通配符只能用于文本字段。</p>
<p>注意，通配符花费使用更高的代价，所以如果能使用其他的操作符达到相同的目的，尽量不要使用通配符。如果要使用通配符，尽量不要用在搜索模式的开始处，这样是最慢的。</p>
<h5 id=""><code>%</code></h5>
<p><code>%</code>表示任意字符出现任意次数（0 次、1 次、多次）。</p>
<pre><code class="language-sql">SELECT prod_id, prod_name FROM Products
WHERE prod_name LIKE '%bean bag%';
</code></pre>
<p>这个语句搜索所有包含<code>bean bag</code>的字段。</p>
<h5 id="_"><code>_</code></h5>
<p><code>_</code>匹配任意字符一次。</p>
<pre><code class="language-sql">SELECT prod_id, prod_name FROM Products
WHERE prod_name LIKE '__ inch%';
</code></pre>
<p>这个通配符指明了字符的数量。</p>
<h5 id="-2"><code>[]</code></h5>
<p><code>[]</code>用于指定一个字符集，必须匹配指定位置的一个字符。</p>
<pre><code class="language-sql">SELECT cust_contact FROM Customers
WHERE cust_contact LIKE '[JM]%'
ORDER BY cust_contact;
</code></pre>
<p>搜索所有以<code>J</code>或者<code>M</code>开头的字段。</p>
<p>这个通配符可以使用<code>^</code>作为前置来否定，即查找补集。</p>
<blockquote>
<p>如果使用<code>Access</code>的话，需要用<code>!</code>来否定。</p>
</blockquote>
<h4 id="计算字段">计算字段</h4>
<p>字段（<code>field</code>）基本和列是一个意思。一般来说，计算字段用于格式化和转换数据。在数据库服务器上完成这些工作要比客户端中更快。</p>
<h5 id="拼接字符串">拼接字符串</h5>
<p>拼接的方法在不同的 DBMS 中不同。通常使用<code>+</code>和<code>||</code>来拼接。</p>
<pre><code class="language-sql">-- +
SELECT vend_name + '(' + vend_country + ')'
FROM Vendors
ORDER BY vend_name;
-- ||
SELECT vend_name || '(' || vend_country || ')'
FROM Vendors
ORDER BY vend_name;
</code></pre>
<p>在 MySQL 和 MariaDB 中，需要使用特殊的方法。</p>
<pre><code class="language-sql">SELECT Concat(vend_name, '(', vend_country, ')')
FROM Vendors
ORDER BY vend_name;
</code></pre>
<p>有许多数据库会将字段之间用空格填充，但是我们很可能不需要这些空格。我们可以使用<code>RTRIM</code>函数来去掉右边的空格。</p>
<pre><code class="language-sql">SELECT RTRIM(vend_name) + '(' + RTRIM(vend_country) + ')'
FROM Vendors
ORDER BY vend_name;
</code></pre>
<p><code>LTRIM</code>去掉左边的空格，<code>TRIM</code>去掉所有空格。</p>
<h5 id="使用别名">使用别名</h5>
<p>拼接字段地址之后，新计算出来的列没有名字。我们可以给它一个别名，使用<code>AS</code>关键字。</p>
<pre><code class="language-sql">SELECT Concat(vend_name, '(', vend_country, ')') AS vend_title
FROM Vendors
ORDER BY vend_name;
</code></pre>
<h5 id="执行算术计算">执行算术计算</h5>
<p>可以使用四则运算符来对字段进行计算。</p>
<pre><code class="language-sql">SELECT prod_id, quantity, item_price, quantity*item_price AS expanded_price
FROM OrderItems
WHERE order_num = 20008;
</code></pre>
<h3 id="函数">函数</h3>
<p>SQL 也可以使用函数来处理数据。</p>
<h4 id="sql-函数所存在的问题">SQL 函数所存在的问题</h4>
<p>每一个 DBMS 都有特定的函数，只有少数几个函数被主要的 DBMS 等同地支持。虽然所有类型的函数一般都可以在每个 DBMS 中使用，但是各个函数的名称和语法可能极其不同。</p>
<p>大多数 SQL 实现支持以下类型的函数。</p>
<ul>
<li>用于处理字符串的文本函数。</li>
<li>用于再数值数据上进行算术操作的数值函数。</li>
<li>用于处理日期和时间值并从这些值中提取特定成分的日期和时间函数。</li>
<li>返回 DBMS 正使用的特殊信息的系统函数。</li>
</ul>
<h4 id="文本处理函数">文本处理函数</h4>
<ul>
<li><code>UPPER()</code>，将字符串转化为大写；</li>
<li><code>LOWER()</code>，将字符串转化为小写；</li>
<li><code>LEFT()</code>，返回字符串左边的字符；</li>
<li><code>RIGHT()</code>，返回字符串右边的字符；</li>
<li><code>LENGTH()</code>，返回字符串长度；</li>
<li><code>LTRIM()</code>；</li>
<li><code>RTRIM()</code>；</li>
<li><code>SOUNDEX()</code>，返回字符串的 SOUNDEX 值。</li>
</ul>
<p><code>SOUNDEX</code>用于将任何文本串转换为描述其语音表示的字母数字模式算法。在 Access 和 PostgreSQL 不支持<code>SOUNDEX</code>，在创建 SQLite 是如果使用了<code>SQLITE_SOUNDEX</code>，那么就可以使用，否则不行。</p>
<h4 id="日期和时间处理">日期和时间处理</h4>
<p>日期和时间采取相应的数据类型存储在表中，每种 DBMS 都有自己的特殊形式。日期和时间以特殊格式存储，以便快速高效地排序、过滤，并节省空间。</p>
<p>应用程序一般不使用日期和时间的存储格式，因此日期和时间函数总是用来读取和统计、处理这些值。因此，日期和时间处理函数很重要，但是可移植性最差。</p>
<p>具体的处理函数需要查阅相关文档。</p>
<h4 id="数值处理函数">数值处理函数</h4>
<ul>
<li><code>ABS()</code>，绝对值；</li>
<li><code>COS()</code>，余弦值；</li>
<li><code>EXP()</code>，指数值；</li>
<li><code>PI()</code>，圆周率；</li>
<li><code>SIN()</code>，正弦值；</li>
<li><code>TAN()</code>，正切值；</li>
<li><code>SQRT()</code>，平方根。</li>
</ul>
<h4 id="聚集函数">聚集函数</h4>
<p>有时候我们需要汇总数据而不是实际检索，SQL 提供了五个聚集函数。</p>
<ul>
<li><code>AVG()</code>，返回某列的平均值；</li>
<li><code>COUNT()</code>，返回某列的非空行数；</li>
<li><code>MAX()</code>，返回某列最大值；</li>
<li><code>MIN()</code>，返回某列最小值；</li>
<li><code>SUM()</code>，返回某列之和。</li>
</ul>
<p>使用<code>DISTINCT</code>可以只对不同的值进行计算。</p>
<h3 id="数据分组">数据分组</h3>
<h4 id="创建分组">创建分组</h4>
<p>通过<code>GROUP BY</code>子句可以对数据进行分组。</p>
<pre><code class="language-sql">SELECT vend_id, COUNT(*) AS num_prods
FROM Products
GROUP BY vend_id;
</code></pre>
<p>指定<code>GROUP BY</code>之后就可以对每个分组进行一次计算，输出这一次的计算结果，并按照分组 ID 进行排序。</p>
<p>分组可以嵌套。建立分组时，所有列一起计算。在分组时不能使用别名。<code>GROUP BY</code>子句必须出现在<code>WHERE</code>子句之后，<code>ORDER BY</code>子句之前。</p>
<h4 id="过滤分组">过滤分组</h4>
<p>使用<code>HAVING</code>子句来过滤分组，使用方法和<code>WHERE</code>过滤行一致。</p>
<p>可以同时使用<code>WHERE</code>和<code>HAVING</code>关键字。</p>
<pre><code class="language-sql">SELECT vend_id, COUNT(*) AS num_prods
FROM Products
WHERE prod_price &gt;= 4
GROUP BY vend_id
HAVING COUNT(*) &gt;= 2;
</code></pre>
<h4 id="select-子句顺序">SELECT 子句顺序</h4>
<table>
<thead>
<tr>
<th style="text-align:left">子句</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">SELECT</td>
<td style="text-align:left">要返回的列或表达式</td>
</tr>
<tr>
<td style="text-align:left">FROM</td>
<td style="text-align:left">从中检索数据的表</td>
</tr>
<tr>
<td style="text-align:left">WHERE</td>
<td style="text-align:left">行级过滤</td>
</tr>
<tr>
<td style="text-align:left">GROUP BY</td>
<td style="text-align:left">分组说明</td>
</tr>
<tr>
<td style="text-align:left">HAVING</td>
<td style="text-align:left">组级过滤</td>
</tr>
<tr>
<td style="text-align:left">ORDER BY</td>
<td style="text-align:left">输出排序顺序</td>
</tr>
</tbody>
</table>
<h3 id="子查询">子查询</h3>
<p>查询是可以嵌套的，可以使用查询的结果作为下一次查询的筛选。</p>
<pre><code class="language-sql">SELECT cust_name, cust_contact
FROM Customers
WHERE cust_id IN (
    SELECT cust_id
    FROM Orders
    WHERE order_num IN (
        SELECT order_num
        FROM OrderItems
        WHERE prod_id = 'RGAN01'
    )
)
</code></pre>
<p>子查询也可以作为计算字段。</p>
<pre><code class="language-sql">SELECT cust_name, cust_state, (
    SELECT COUNT(*)
    FROM Orders
    WHERE Orders.cust_id = Customers.cust_id
) AS orders
FROM Customers
ORDER BY cust_name;
</code></pre>
<h3 id="联结表">联结表</h3>
<p>联结是关系表的基础，可以简化检索。</p>
<h4 id="创建联结">创建联结</h4>
<p>指定要联结的所有表和关联它们的方式即可。</p>
<pre><code class="language-sql">SELECT vend_name, prod_name, prod_price
FROM Vendors, Products
WHERE Vendors.vend_id = Products.vend_id;
</code></pre>
<p>如果直接选中而不使用<code>WHERE</code>创建联结，那么就会返回两个表格的笛卡尔积，这样的结果一般是错误的。</p>
<p>上面的联结称为等值联结，基于两个表直接的相等测试。这种联结也称为内联结。可以使用稍微不同的语法使用这种联结。</p>
<pre><code class="language-sql">SELECT vend_name, prod_name, prod_price
FROM Vendors INNER JOIN Products
ON Vendors.vend_id = Products.vend_id;
</code></pre>
<p>这个语句和上面的结果完全一样，但是使用了<code>INNER JOIN</code>和<code>ON</code>。</p>
<h4 id="表别名">表别名</h4>
<p>可以给表设置别名。这样可以缩短 SQL 语句，也可以在一条 SELECT 语句中多次使用相同的表。</p>
<pre><code class="language-sql">SELECT cust_name, cust_contact
FROM Customers AS C, Orders AS O, OrderItems AS OI
WHERE C.cust_id = O.cust_id
AND OI.order_num = O.order_num
AND prod_id = 'RGAN01';
</code></pre>
<h4 id="其他联结">其他联结</h4>
<p>还有三种其他联结：自联结、自然联结、外联结。</p>
<h5 id="自联结">自联结</h5>
<p>如果需要搜索出一条信息的某个字段，然后使用这个字段来过滤同一个表中的数据，那么就可以使用到自联结。</p>
<pre><code class="language-sql">-- 不使用自联结
SELECT cust_id, cust_name, cust_contact
FROM Customers
WHERE cust_name = (
    SELECT cust_name
    FROM Customers
    WHERE cust_contact = 'Jim Jones'
);

-- 使用自联结
SELECT c1.cust_id, c1.cust_name, c1.cust_contact
FROM Customers AS c1, Customers AS c2
WHERE c1.cust_name = c2.cust_name
AND c2.cust_contact = 'Jim Jones';
</code></pre>
<h5 id="自然联结">自然联结</h5>
<pre><code class="language-sql">SELECT C.*, O.order_num, O.order_date, OI.prod_id, OI.quantity, OI.item_price
FROM Customers AS C, Orders AS O, OrderItems AS OI
WHERE C.cust_id = O.cust_id
AND OI.order_num = O.order_num
AND prod_id = 'RGAN01';
</code></pre>
<p>自然联结的意义在于，不返回相同的列。通常，对第一个表使用通配符，其后的表指定列的子集。</p>
<h5 id="外联结">外联结</h5>
<p>联结是将表的行与行相关联，有时候我们会需要使用那些没有关联的行。</p>
<pre><code class="language-sql">SELECT Customers.cust_id, Orders.order_num
FROM Customers LEFT OUTER JOIN Orders
ON Customers.cust_id = Orders.cust_id;
</code></pre>
<p>这个语句会返回没有订单的顾客。之所以返回的是没有订单的顾客而不是没有顾客的订单，是因为指定了<code>LEFT</code>。<code>LEFT</code>表面主表是<code>Customers</code>。同样可以使用<code>RIGHT</code>。也可以使用<code>FULL</code>，这种称为全外联结。</p>
<h3 id="组合查询">组合查询</h3>
<p>使用<code>UNION</code>操作符可以将多条 SELECT 语句组合成一个结果集合。</p>
<pre><code class="language-sql">SELECT cust_name, cust_contact, cust_email
FROM Customers
WHERE cust_state IN ('IL','IN','MI')
UNION
SELECT cust_name, cust_contact, cust_email
FROM Customers
WHERE cust_name = 'Fun4All';
</code></pre>
<p>这个例子中，使用<code>UNION</code>比使用多个<code>WHERE</code>子句要复杂。</p>
<p>注意每个<code>UNION</code>的查询都需要包含相同的列、表达式或者聚集函数，不过次序可以不同。</p>
<p><code>UNION</code>默认是去除重复的行的，如果需要显示，需要使用<code>UNION ALL</code>。</p>
<p>如果需要排序，<code>ORDER BY</code>需要放在最后。</p>
<h3 id="插入数据">插入数据</h3>
<p><code>INSERT</code>，用于将行插入到数据库表中。可以插入完整的行、行的一部分、或者某些查询的结果。</p>
<pre><code class="language-sql">INSERT INTO Customers
VALUES(
    '1000000006',
    'Toy Land',
    '123 Any Street',
    'New York',
    'NY',
    '11111',
    'USA',
    NULL,
    NULL
);
</code></pre>
<p>上面这种是一般的插入方法，不过不太推荐，这样不太安全，因为依赖于列的定义次序。</p>
<p>更好的方法是下面这样：</p>
<pre><code class="language-sql">INSERT INTO Customers(
    cust_id,
    cust_name,
    cust_address,
    cust_city,
    cust_state,
    cust_zip,
    cust_country,
    cust_contact,
    cust_email
) VALUES(
    '1000000006',
    'Toy Land',
    '123 Any Street',
    'New York',
    'NY',
    '11111',
    'USA',
    NULL,
    NULL
)
</code></pre>
<p>这种方式指定了列名，在插入行时，VALUES 会严格按照指定的列名插入。</p>
<p>同样，可以插入部分行。</p>
<p>INSERT 可以与 SELECT 结合，插入检索出的数据。</p>
<pre><code class="language-sql">INSERT INTO Customers(
    cust_id,
    cust_contact,
    cust_email,
    cust_name,
    cust_address,
    cust_city,
    cust_state,
    cust_zip,
    cust_country
) SELECT 
    cust_id,
    cust_contact,
    cust_email,
    cust_name,
    cust_address,
    cust_city,
    cust_state,
    cust_zip,
    cust_country
FROM CustNew;
</code></pre>
<p>要想将一个表的内容复制的一个全新的表中，可以使用 SELECT INTO 语句。</p>
<pre><code class="language-sql">SELECT *
INTO CustCopy
FROM Customers;
</code></pre>
<p>当然，如果是 MySQL、MariaDB、Oracle、PostgreSQL 和 SQLite 就需要使用另一种语法：</p>
<pre><code class="language-sql">CREATE TABLE CustCopy AS
SELECT * FROM Customers;
</code></pre>
<h3 id="更新和删除数据">更新和删除数据</h3>
<p>使用 UPDATE 时不要省略 WHERE 子句，否则会直接更新表中的所有行。</p>
<pre><code class="language-sql">UPDATE Customers
SET cust_contact = 'Sam Roberts',
    cust_email = 'kim@thetoystore.com'
WHERE cust_id = '1000000005';
</code></pre>
<p>如果要删除某一行的某一列，就可以把它修改为 NULL。</p>
<pre><code class="language-sql">UPDATE Customers
SET cust_email = NULL
WHERE cust_id = '1000000005';
</code></pre>
<p>如果需要删除整行的数据，需要使用 DELETE。和 UPDATA 一样，如果没有筛选，就会删除所有行。</p>
<pre><code class="language-sql">DELETE FROM Customers
WHERE cust_id = '1000000006';
</code></pre>
<p>如果需要删除整个表，那么不应该使用 DELETE，应该使用更快的 TRUNCATE TABLE，它不记录数据的变动。</p>
<h3 id="创建和操作表">创建和操作表</h3>
<h4 id="创建表">创建表</h4>
<p>使用 CREATE TABLE 可以创建表，必须给出：</p>
<ul>
<li>新表的名字；</li>
<li>表列的名字和定义；</li>
<li>有的 DBMS 还要求指定表的位置。</li>
</ul>
<pre><code class="language-sql">CREATE TABLE Products
(
    prod_id     CHAR(10)        NOT NULL,
    vend_id     CHAR(10)        NOT NULL,
    prod_name   CHAR(254)       NOT NULL,
    prod_price  DECIMAL(8,2)    NOT NULL,
    prod_desc   VARCHAR(1000)   NULL
);
</code></pre>
<p>在不同的 DBMS 中，参数有所不同。比如在 MySQL 中，<code>varchar</code>就需要替换为<code>text</code>。</p>
<p>最后一列指定该列是否接受 NULL 值。如果不接受，那么插入行时这一列不能没有值。</p>
<p>如果不设置为 NOT NULL，那么默认是 NULL。</p>
<p>可以对列设置默认值。</p>
<pre><code class="language-sql">CREATE TABLE OrderItems
(
    order_num   INTEGER         NOT NULL,
    order_item  INTEGER         NOT NULL,
    prod_id     CHAR(10)        NOT NULL,
    quantity    INTEGER         NOT NULL DEFAULT 1,
    item_price  DECIMAL(8,2)    NOT NULL
);
</code></pre>
<p>默认值经常用于日期或者时间戳列，比如用系统日期作为默认日期。MySQL 中使用<code>DEFAULT CURRENT_DATE()</code>。获取系统日期的函数在各个 DBMS 中几乎都是不同的。</p>
<h4 id="更新表">更新表</h4>
<p>需要更新表定义时，使用 ALTER TABLE。有几点需要注意：</p>
<ul>
<li>理想情况下，不要在表中有数据时对其进行更新；</li>
<li>所有 DBMS 都允许给现有的表增加列，不过对所增加列的数据类型有限制；</li>
<li>许多 DBMS 不允许删除或更改列；</li>
<li>多数 DBMS 允许重新命名表中的列；</li>
<li>许多 DBMS 限制对有数据的列进行更改，对没有数据的列几乎没有限制。</li>
</ul>
<p>具体内容需要查询具体 DBMS 的文档。</p>
<pre><code class="language-sql">-- 增加列
ALTER TABLE Vendors
ADD vend_phone CHAR(20);
-- 删除列
ALTER TABLE Vendors
DROP COLUMN vend_phone;
</code></pre>
<h4 id="删除表和重命名表">删除表和重命名表</h4>
<p>删除使用 DROP TABLE 语句即可：</p>
<pre><code class="language-sql">DROP TABLE CustCopy;
</code></pre>
<p>重命名的语句有所不同，MySQL 使用 RENAME。</p>
<h3 id="视图">视图</h3>
<p>视图是虚拟的表。与包含数据的表不同，视图只包含使用时动态检索数据的查询。视图有许多的应用。</p>
<ul>
<li>简化 SQL 操作，可以方便地重用它而不必知道基本查询细节；</li>
<li>使用表的一部分而不是整个表；</li>
<li>保护数据，授予用户表的特定部分的访问权限，而不是整个表的访问权限；</li>
<li>更改数据格式和表示，视图可以返回与底层表示和格式不同的数据。</li>
</ul>
<h4 id="创建视图">创建视图</h4>
<p>使用 CREATE VIEW 创建视图。</p>
<p>最常见的视图应用时隐藏复杂的 SQL。</p>
<pre><code class="language-sql">CREATE VIEW ProductCustomers AS
SELECT cust_name, cust_contact, prod_id
FROM Customers, Orders, OrderItems
WHERE Customers.cust_id = Orders.cust_id
AND OrderItems.order_num = Orders.order_num;
</code></pre>
<p>通过视图，可以将复杂 SQL 的结果保存，多次使用。</p>
<h3 id="存储过程">存储过程</h3>
<p>有时候，完成一件工作需要多次执行多条 SQL 语句。此外，需要执行的具体 SQL 语句及其次序也不是固定的。所以可以用到存储过程。</p>
<p>存储过程类似于自定义的函数。</p>
<h4 id="执行存储过程">执行存储过程</h4>
<p>存储过程的执行只需要使用 EXECUTE 即可。</p>
<h3 id="管理事务处理">管理事务处理</h3>
<p>当我们需要执行一段 SQL 指令，并确保它完全执行，否则完全不执行时，可以使用事务处理。它就像是代码管理时所使用的一样，当我们执行指令后，可以回退指令，也可以保存更改。执行指令之后并不是真正的结果。</p>
<pre><code class="language-sql">-- 开始一段事务处理
START TRANSACTION
INSERT ...;
-- 检查点
SAVEPOINT a;
DELETE ...;
UPDATE ...;
-- 如果没有出错，到这里结束
COMMIT;
-- 回退到指定检查点
ROLLBACK TO a;
</code></pre>
<p>以上语法适用于 MySQL。</p>
<h3 id="游标">游标</h3>
<p>游标就是指针，当我们检索完毕之后，游标停留在最后一个位置，可以从这个位置向下检索。游标一般在存储过程中使用。</p>
<p>使用游标之前，需要声明它。一旦声明，就必须打开游标以便使用。结束使用时，应当关闭游标，可能的话，释放游标。</p>
<h4 id="创建游标">创建游标</h4>
<p>使用 DECLARE 语句创建游标，这条语句在不同的 DBMS 中有所不同。</p>
<pre><code class="language-sql">DECLARE CustCursor CURSOR
FOR
SELECT * FROM Customers
WHERE cust_email IS NULL;
</code></pre>
<h4 id="使用游标">使用游标</h4>
<p>使用 OPEN CURSOR 打开游标。</p>
<pre><code class="language-sql">OPEN CustCursor;
</code></pre>
<h4 id="关闭游标">关闭游标</h4>
<pre><code class="language-sql">CLOSE CustCursor;
</code></pre>
<h3 id="高级-sql-特性">高级 SQL 特性</h3>
<h4 id="约束">约束</h4>
<p>我们会需要保证插入的数据的合法而有意义的，但是如果要自己来检查它会比较耗时费力。所以可以把这个工作交给 DBMS。</p>
<h5 id="主键">主键</h5>
<p>这里我们会用到主键。</p>
<p>对于主键，我们可以创建它。</p>
<pre><code class="language-sql">CREATE TABLE Vendors (
    vend_id         CHAR(10)    NOT NULL PRIMARY KEY,
    vend_name       CHAR(50)    NOT NULL,
    vend_address    CHAR(50)    NULL,
    vend_city       CHAR(50)    NULL,
    vend_state      CHAR(5)     NULL,
    vend_zip        CHAR(10)    NULL,
    vend_country    CHAR(50)    NULL
)
</code></pre>
<p>其中的<code>vend_id</code>就是主键。</p>
<p>也可以使用 CONSTRAINT 语法添加。</p>
<pre><code class="language-sql">ALTER TABLE Vendors
ADD CONSTRAINT 
PRIMARY KEY (vend_id);
</code></pre>
<h5 id="外键">外键</h5>
<p>定义外键的意义在于，定义值的合法性。这一列的值必须在另一个表中存在。</p>
<pre><code class="language-sql">CREATE TABLE Orders (
    order_num   INTEGER     NOT NULL PRIMARY KEY,
    order_date  DATETIME    NOT NULL,
    cust_id     CHAR(10)    NOT NULL REFERENCES Customers(cust_id)
);
</code></pre>
<p>也可以在 ALTER TABLE 语句中用 CONSTRAINT 完成。</p>
<pre><code class="language-sql">ALTER TABLE Orders
ADD CONSTRAINT
FOREIGN KEY (cust_id) REFERENCES Customers (cust_id)
</code></pre>
<h5 id="唯一约束">唯一约束</h5>
<p>唯一约束用来保证一列（或一组列）中的数据是唯一的。</p>
<ul>
<li>表可包含多个唯一约束，但每个表只允许一个主键。</li>
<li>唯一约束列可包含 NULL 值。</li>
<li>唯一约束列可修改或更新。</li>
<li>唯一约束列的值可重复使用。</li>
<li>与主键不一样，唯一约束不能用来定义外键。</li>
</ul>
<p>使用 UNIQUE 定义。</p>
<h5 id="检查约束">检查约束</h5>
<p>检查约束用来保证一列（或一组列）中的数据满足一组指定的条件。</p>
<pre><code class="language-sql">CREATE TABLE OrderItems (
    order_num   INTEGER     NOT NULL,
    order_item  INTEGER     NOT NULL,
    prod_id     CHAR(10)    NOT NULL,
    quantity    INTEGER     NOT NULL CHECK (quantity &gt; 0),
    item_price  MONEY       NOT NULL
);
</code></pre>
<h4 id="索引">索引</h4>
<p>索引可以让 DBMS 保存一个按某个键值排序的列表，改善检索操作的性能。但是这会降低数据插入、修改和删除的性能。</p>
<p>索引用 CREATE INDEX 语句创建。索引必须唯一命名。</p>
<pre><code class="language-sql">CREATE INDEX prod_name_ind
ON Products (prod_name);
</code></pre>
<h4 id="触发器">触发器</h4>
<p>触发器是特殊的存储过程，在发生特定的数据库活动时自动执行。</p>
<p>触发器与单个表相关联，具有以下数据的访问权：</p>
<ul>
<li>INSERT 操作中的所有新数据；</li>
<li>UPDATE 操作中的所有新数据和旧数据；</li>
<li>DELETE 操作中删除的数据。</li>
</ul>

                        </div>
                        <div class="post-toc">
                            <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#sql-%E5%85%A5%E9%97%A8">SQL 入门</a>
<ul>
<li><a href="#%E4%BB%80%E4%B9%88%E6%98%AF-sql">什么是 SQL</a></li>
<li><a href="#%E6%A3%80%E7%B4%A2%E6%95%B0%E6%8D%AE">检索数据</a>
<ul>
<li><a href="#select">SELECT</a></li>
<li><a href="#%E6%8E%92%E5%BA%8F%E6%A3%80%E7%B4%A2">排序检索</a></li>
<li><a href="#%E8%BF%87%E6%BB%A4%E6%95%B0%E6%8D%AE">过滤数据</a></li>
<li><a href="#%E9%80%9A%E9%85%8D%E7%AC%A6">通配符</a>
<ul>
<li><a href="#"><code>%</code></a></li>
<li><a href="#_"><code>_</code></a></li>
<li><a href="#-2"><code>[]</code></a></li>
</ul>
</li>
<li><a href="#%E8%AE%A1%E7%AE%97%E5%AD%97%E6%AE%B5">计算字段</a>
<ul>
<li><a href="#%E6%8B%BC%E6%8E%A5%E5%AD%97%E7%AC%A6%E4%B8%B2">拼接字符串</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8%E5%88%AB%E5%90%8D">使用别名</a></li>
<li><a href="#%E6%89%A7%E8%A1%8C%E7%AE%97%E6%9C%AF%E8%AE%A1%E7%AE%97">执行算术计算</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E5%87%BD%E6%95%B0">函数</a>
<ul>
<li><a href="#sql-%E5%87%BD%E6%95%B0%E6%89%80%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98">SQL 函数所存在的问题</a></li>
<li><a href="#%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0">文本处理函数</a></li>
<li><a href="#%E6%97%A5%E6%9C%9F%E5%92%8C%E6%97%B6%E9%97%B4%E5%A4%84%E7%90%86">日期和时间处理</a></li>
<li><a href="#%E6%95%B0%E5%80%BC%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0">数值处理函数</a></li>
<li><a href="#%E8%81%9A%E9%9B%86%E5%87%BD%E6%95%B0">聚集函数</a></li>
</ul>
</li>
<li><a href="#%E6%95%B0%E6%8D%AE%E5%88%86%E7%BB%84">数据分组</a>
<ul>
<li><a href="#%E5%88%9B%E5%BB%BA%E5%88%86%E7%BB%84">创建分组</a></li>
<li><a href="#%E8%BF%87%E6%BB%A4%E5%88%86%E7%BB%84">过滤分组</a></li>
<li><a href="#select-%E5%AD%90%E5%8F%A5%E9%A1%BA%E5%BA%8F">SELECT 子句顺序</a></li>
</ul>
</li>
<li><a href="#%E5%AD%90%E6%9F%A5%E8%AF%A2">子查询</a></li>
<li><a href="#%E8%81%94%E7%BB%93%E8%A1%A8">联结表</a>
<ul>
<li><a href="#%E5%88%9B%E5%BB%BA%E8%81%94%E7%BB%93">创建联结</a></li>
<li><a href="#%E8%A1%A8%E5%88%AB%E5%90%8D">表别名</a></li>
<li><a href="#%E5%85%B6%E4%BB%96%E8%81%94%E7%BB%93">其他联结</a>
<ul>
<li><a href="#%E8%87%AA%E8%81%94%E7%BB%93">自联结</a></li>
<li><a href="#%E8%87%AA%E7%84%B6%E8%81%94%E7%BB%93">自然联结</a></li>
<li><a href="#%E5%A4%96%E8%81%94%E7%BB%93">外联结</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E7%BB%84%E5%90%88%E6%9F%A5%E8%AF%A2">组合查询</a></li>
<li><a href="#%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE">插入数据</a></li>
<li><a href="#%E6%9B%B4%E6%96%B0%E5%92%8C%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE">更新和删除数据</a></li>
<li><a href="#%E5%88%9B%E5%BB%BA%E5%92%8C%E6%93%8D%E4%BD%9C%E8%A1%A8">创建和操作表</a>
<ul>
<li><a href="#%E5%88%9B%E5%BB%BA%E8%A1%A8">创建表</a></li>
<li><a href="#%E6%9B%B4%E6%96%B0%E8%A1%A8">更新表</a></li>
<li><a href="#%E5%88%A0%E9%99%A4%E8%A1%A8%E5%92%8C%E9%87%8D%E5%91%BD%E5%90%8D%E8%A1%A8">删除表和重命名表</a></li>
</ul>
</li>
<li><a href="#%E8%A7%86%E5%9B%BE">视图</a>
<ul>
<li><a href="#%E5%88%9B%E5%BB%BA%E8%A7%86%E5%9B%BE">创建视图</a></li>
</ul>
</li>
<li><a href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B">存储过程</a>
<ul>
<li><a href="#%E6%89%A7%E8%A1%8C%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B">执行存储过程</a></li>
</ul>
</li>
<li><a href="#%E7%AE%A1%E7%90%86%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86">管理事务处理</a></li>
<li><a href="#%E6%B8%B8%E6%A0%87">游标</a>
<ul>
<li><a href="#%E5%88%9B%E5%BB%BA%E6%B8%B8%E6%A0%87">创建游标</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8%E6%B8%B8%E6%A0%87">使用游标</a></li>
<li><a href="#%E5%85%B3%E9%97%AD%E6%B8%B8%E6%A0%87">关闭游标</a></li>
</ul>
</li>
<li><a href="#%E9%AB%98%E7%BA%A7-sql-%E7%89%B9%E6%80%A7">高级 SQL 特性</a>
<ul>
<li><a href="#%E7%BA%A6%E6%9D%9F">约束</a>
<ul>
<li><a href="#%E4%B8%BB%E9%94%AE">主键</a></li>
<li><a href="#%E5%A4%96%E9%94%AE">外键</a></li>
<li><a href="#%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F">唯一约束</a></li>
<li><a href="#%E6%A3%80%E6%9F%A5%E7%BA%A6%E6%9D%9F">检查约束</a></li>
</ul>
</li>
<li><a href="#%E7%B4%A2%E5%BC%95">索引</a></li>
<li><a href="#%E8%A7%A6%E5%8F%91%E5%99%A8">触发器</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

                        </div>
                        <section class="post-copyright en">
                            <!--en-->
                            <p class="copyright-item">
                                <span>Author:</span>
                                <span>拭微</span>
                            </p>

                            <p class="copyright-item">
                                <span>Permalink:</span>
                                <span><a href="https://wzhzzmzzy.github.io/post/2018-3-7-SQL入门">https://wzhzzmzzy.github.io/post/2018-3-7-SQL入门</a></span>
                            </p>

                            <p class="copyright-item">
                                <span>License:</span>
                                <span>MIT License</span>
                            </p>
                        </section>
                        <section class="post-copyright zh">
                            <!--zh-->
                            <p class="copyright-item ">
                                <span>&#x4F5C;&#x8005;:</span>
                                <span>拭微</span>
                            </p>

                            <p class="copyright-item">
                                <span>&#x6C38;&#x4E45;&#x94FE;&#x63A5;:</span>
                                <span><a href="https://wzhzzmzzy.github.io/post/2018-3-7-SQL入门">https://wzhzzmzzy.github.io/post/2018-3-7-SQL入门</a></span>
                            </p>

                            <p class="copyright-item">
                                <span>&#x534F;&#x8BAE;:</span>
                                <span>MIT License</span>
                            </p>
                        </section>
                        <!--en-->
                        <section class="post-tags en">
                            <div>
                                <span>Tag(s):</span>
                                <span class="tag">
                                
                                
                                <a href="https://wzhzzmzzy.github.io/tag/8mZlgr9QJt"># SQL</a>
                                
                                
                            </span>
                            </div>
                            <div>
                                <a href="javascript:window.history.back();">back</a>
                                <span>&dot;</span>
                                <a href="#">home</a>
                            </div>
                        </section>
                        <!--zh-->
                        <section class="post-tags zh">
                            <div>
                                <span>&#x6807;&#x7B7E;:</span>
                                <span class="tag">
                                
                                
                                <a href="https://wzhzzmzzy.github.io/tag/8mZlgr9QJt"># SQL</a>
                                
                                
                            </span>
                            </div>
                            <div>
                                <a href="javascript:window.history.back();">
                                &#x8FD4;&#x56DE;</a>
                                <span>&dot;</span>
                                <a href="#">&#x4E3B;&#x9875;</a>
                            </div>
                        </section>
                        <section class="post-nav">
                            
                                <a class="prev" rel="prev" href="https://wzhzzmzzy.github.io/post/2018-3-27-unp">
                                    Python - mitsuhiko/unp Note
                                </a>
                                
                                    
                                        <a class="next" rel="next" href="https://wzhzzmzzy.github.io/post/2018-3-7-SQL题（Leetcode）">
                                            SQL 练习题（LeetCode）
                                        </a>
                                        
                        </section>
                    </article>
                </div>
                
            </div>
    </div>
    </div>
    </div>
    
    <div id="player"></div>
    
        <footer id="footer" class="footer">

            <div class="copyright">
                <!-- <div class="Like">
                    <div class="tip" data-tooltip="Do you like it?">
                        <a href="https://github.com/ITJoker233/Gridea-theme-Chic" target="_blank" title=""><svg class="icon"
                        aria-hidden="true">
                        <use xlink:href="#like"></use>
                    </svg><b class="like_text" id="star"></b></a>
                    </div>
                </div> -->
                
                    <b id="hitokoto"></b><br>
                    <!-- <svg viewBox="0 0 1024 1024" style="margin-left: 5px;margin-right: 5px;" version="1.0" width="8" height="8" class="my-face">
            <path
                d="M863.597631 513.574282l-271.33965-140.213484L729.783667 81.926656c3.583731-7.87141 7.167462-15.742819 7.167462-25.214109C736.887134 25.226908 708.345275 0.012799 672.635953 0.012799a63.611229 63.611229 0 0 0-39.293053 12.607055c-1.791866 1.59988-3.519736 3.19976-5.311602 3.19976L147.87531 418.925381a55.547834 55.547834 0 0 0-19.646527 47.356448c1.791866 17.278704 14.27093 33.021523 32.125591 42.492813l271.33965 141.749369L292.504463 945.221908c-12.479064 25.214109-1.791866 53.563983 23.166262 69.306802 10.751194 6.335525 23.230258 9.47129 35.709322 9.47129 16.062795 0 32.125591-4.735645 44.604655-15.742819l480.091993-403.297753a55.547834 55.547834 0 0 0 19.646526-47.228458 61.243407 61.243407 0 0 0-32.12559-44.156688z"
                fill="#93b5cf"></path>
        </svg> -->
                    拭微 &copy;Copyright
                        <script>
                            var date = new Date();
                            document.write("" + date.getFullYear());
                        </script>
                        <!-- | Powered by <a href="https://coding.net" target="_blank">Coding.net</a> -->
            </div>
            <div id="update" style="display:none;">
                on
            </div>
            
                <div id="version" style="display:none;">
                    1.6.2
                </div>
                
                    <script>
                        var pat = '';
                        
                        document.write('<div id="home_path" style="display:none;">' + document.location.protocol + '//' + window.document.location.hostname + pat + '</div>')
                    </script>

        </footer>
        
            <script src='https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js'></script>
            
                <script>
                    

                    function LoadPlayer() {
                        var audio_name = 'きっとまたいつか';
                        var audio_artist = 'DEPAPEPE';
                        var audio_url = 'http://music.163.com/song/media/outer/url?id=22688472.mp3';
                        var audio_cover = 'https://p3fx.kgimg.com/stdmusic/20150718/20150718063022611128.jpg';
                        const ap = new APlayer({
                            container: document.getElementById('player'),
                            fixed: true,
                            audio: [{
                                name: audio_name,
                                artist: audio_artist,
                                url: audio_url,
                                cover: audio_cover,
                            }]
                        });
                    }
                    LoadPlayer();
                    
                    
                    loadlive2d();
                    
                    // hitokoto();
                    getStar();
                    hljs.initHighlighting();
                    console.clear();
                    
                    CheckVersion();
                    
                    console.log("\n %c \u26a1Theme:Chic Author's Blog:https://blog.itjoker.cn  Write By ITJoker  \n\n", "color: #ffffff; background: rgba(49, 49, 49, 0.85); padding:5px 0;border-radius:5px;");
                </script>
        </div>
</body>
<script>
    scroll();
</script>

</html>